<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Stalker Mods</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    .rating svg {
      width: 1rem;
      height: 1rem;
    }
  </style>
</head>
<body class="bg-gray-900 text-white p-4">
  <div class="max-w-4xl mx-auto">
    <h1 class="text-3xl font-bold mb-6">Stalker Mods</h1>
    <div id="mod-list" class="grid gap-4"></div>
  </div>

  <script>
    const mods = [
      {
        title: "Mod Title 1",
        rating: 4,
        standalone: true,
        platform: "Call of Pripyat",
        description: "Description of Mod 1.",
        links: [
          { label: "Install Guide", url: "https://example.com/install1" },
          { label: "Official Site", url: "https://example.com/site1" }
        ],
        video: "https://www.youtube.com/embed/dQw4w9WgXcQ"
      },
      {
        title: "Mod Title 2",
        rating: 5,
        standalone: false,
        platform: "Shadow of Chernobyl",
        description: "Description of Mod 2.",
        links: [
          { label: "Install Guide", url: "https://example.com/install2" },
          { label: "ModDB Page", url: "https://moddb.com" }
        ],
        video: "https://www.youtube.com/embed/dQw4w9WgXcQ"
      }
    ];

    function renderStars(rating) {
      let stars = '';
      for (let i = 0; i < 5; i++) {
        stars += i < rating
          ? '<svg fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.286 3.973a1 1 0 00.95.69h4.178c.969 0 1.371 1.24.588 1.81l-3.384 2.46a1 1 0 00-.364 1.118l1.287 3.973c.3.921-.755 1.688-1.538 1.118l-3.384-2.46a1 1 0 00-1.175 0l-3.384 2.46c-.783.57-1.838-.197-1.538-1.118l1.287-3.973a1 1 0 00-.364-1.118l-3.384-2.46c-.783-.57-.38-1.81.588-1.81h4.178a1 1 0 00.95-.69l1.286-3.973z" /></svg>'
          : '<svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.286 3.973a1 1 0 00.95.69h4.178c.969 0 1.371 1.24.588 1.81l-3.384 2.46a1 1 0 00-.364 1.118l1.287 3.973c.3.921-.755 1.688-1.538 1.118l-3.384-2.46a1 1 0 00-1.175 0l-3.384 2.46c-.783.57-1.838-.197-1.538-1.118l1.287-3.973a1 1 0 00-.364-1.118L2.82 9.4c-.783-.57-.38-1.81.588-1.81h4.178a1 1 0 00.95-.69l1.286-3.973z"/></svg>';
      }
      return stars;
    }

    function openPopup(url) {
      const width = 600;
      const height = 400;
      const left = (screen.width / 2) - (width / 2);
      const top = (screen.height / 2) - (height / 2);
      window.open(url, 'Install Guide', `width=${width},height=${height},top=${top},left=${left}`);
    }

    function renderMods(modArray) {
      const container = document.getElementById('mod-list');
      container.innerHTML = '';
      modArray.forEach(mod => {
        const card = document.createElement('div');
        card.className = 'bg-gray-800 p-3 rounded-md shadow-sm flex flex-col h-full';

        const titleRow = document.createElement('div');
        titleRow.className = 'flex justify-between items-center mb-3 gap-2';

        const title = document.createElement('h3');
        title.className = 'text-2xl font-semibold text-gray-100 drop-shadow';
        title.textContent = mod.title;
        title.style.whiteSpace = 'nowrap';
        title.style.overflow = 'hidden';
        title.style.textOverflow = 'ellipsis';

        const rating = document.createElement('div');
        rating.className = 'flex items-center space-x-0.5 text-yellow-400 rating';
        rating.innerHTML = renderStars(mod.rating);

        titleRow.appendChild(title);
        titleRow.appendChild(rating);

        const standaloneDiv = document.createElement('div');
        standaloneDiv.className = 'text-xs text-white mb-2 flex items-baseline gap-2';

        const labelStandalone = document.createElement('span');
        labelStandalone.textContent = 'Standalone:';
        labelStandalone.className = 'leading-tight';
        standaloneDiv.appendChild(labelStandalone);

        const standaloneWrapper = document.createElement('div');
        standaloneWrapper.className = 'flex items-center gap-1';

        const yesSpan = document.createElement('span');
        yesSpan.textContent = 'Yes';
        yesSpan.className = mod.standalone
          ? 'border border-white px-2 py-0.5 rounded-sm text-[10px] text-white leading-tight'
          : 'text-gray-400 text-[10px] leading-tight';
        if (mod.standalone) {
          yesSpan.style.backgroundColor = 'rgba(250, 204, 21, 0.45)';
        }

        standaloneWrapper.appendChild(yesSpan);

        const sep = document.createElement('span');
        sep.textContent = '|';
        sep.className = 'text-gray-400 text-[10px] leading-tight';
        standaloneWrapper.appendChild(sep);

        const noSpan = document.createElement('span');
        noSpan.textContent = 'No';
        noSpan.className = !mod.standalone
          ? 'border border-white px-2 py-0.5 rounded-sm text-[10px] text-white leading-tight'
          : 'text-gray-400 text-[10px] leading-tight';
        if (!mod.standalone) {
          noSpan.style.backgroundColor = 'rgba(250, 204, 21, 0.45)';
        }

        standaloneWrapper.appendChild(noSpan);
        standaloneDiv.appendChild(standaloneWrapper);

        const platformDiv = document.createElement('div');
        platformDiv.className = 'text-xs text-white mb-2 flex items-baseline gap-2';

        const labelPlatform = document.createElement('span');
        labelPlatform.textContent = 'Platform:';
        labelPlatform.className = 'leading-tight';
        platformDiv.appendChild(labelPlatform);

        const platformWrapper = document.createElement('div');
        platformWrapper.className = 'flex items-center gap-1';

        ['Shadow of Chernobyl', 'Clear Sky', 'Call of Pripyat'].forEach((plat, idx, arr) => {
          const span = document.createElement('span');
          span.textContent = plat;
          span.className = (mod.platform === plat)
            ? 'border border-white bg-yellow-400 bg-opacity-50 px-2 py-0.5 rounded-sm text-[10px] text-white leading-tight'
            : 'text-gray-400 text-[10px] leading-tight';
          platformWrapper.appendChild(span);

          if (idx < arr.length - 1) {
            const sep = document.createElement('span');
            sep.textContent = '|';
            sep.className = 'text-gray-400 text-[10px] leading-tight';
            platformWrapper.appendChild(sep);
          }
        });

        platformDiv.appendChild(platformWrapper);

        const desc = document.createElement('p');
        desc.className = 'text-gray-400 mb-2 text-sm';
        desc.textContent = mod.description;

        const links = document.createElement('div');
        links.className = 'mb-2';
        (mod.links || []).forEach(link => {
          const a = document.createElement('a');
          a.href = link.url;
          a.textContent = link.label;
          a.className = 'block text-blue-400 hover:underline text-sm cursor-pointer';
          if (link.label.toLowerCase().includes('install guide')) {
            a.addEventListener('click', e => {
              e.preventDefault();
              openPopup(link.url);
            });
          } else {
            a.target = '_blank';
          }
          links.appendChild(a);
        });

        const videoWrapper = document.createElement('div');
        videoWrapper.className = 'mt-2';

        const video = document.createElement('iframe');
        video.src = mod.video;
        video.className = 'w-full aspect-video rounded';
        video.allow = 'accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture';
        video.allowFullscreen = true;
        videoWrapper.appendChild(video);

        card.appendChild(titleRow);
        card.appendChild(standaloneDiv);
        card.appendChild(platformDiv);
        card.appendChild(desc);
        card.appendChild(links);
        card.appendChild(videoWrapper);

        container.appendChild(card);
      });
    }

    renderMods(mods);
  </script>
</body>
</html>
