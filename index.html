<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Cheeki's Mods Archive - S.T.A.L.K.E.R. Story Mods Collection</title>
  
  <!-- SEO -->
  <meta name="description" content="Archive of S.T.A.L.K.E.R. story mods reviewed by Cheeki. Download links, ratings, and install guides for Shadow of Chernobyl, Clear Sky, and Call of Pripyat modifications.">
  <meta name="keywords" content="STALKER mods, S.T.A.L.K.E.R. modifications, game mods, Shadow of Chernobyl, Clear Sky, Call of Pripyat, story mods">
  <meta name="author" content="Cheeki">
  <!-- SEO -->
  
  <meta property="og:title" content="Cheeki's Mods Archive - S.T.A.L.K.E.R. Story Mods">
  <meta property="og:description" content="Archive of S.T.A.L.K.E.R. story mods with reviews, ratings, and download links">
  <meta property="og:type" content="website">
  
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebSite",
    "name": "Cheeki's Mods Archive",
    "description": "Archive of S.T.A.L.K.E.R. story mods reviewed by Cheeki",
    "author": {
      "@type": "Person",
      "name": "Cheeki"
    },
    "potentialAction": {
      "@type": "SearchAction",
      "target": "{search_term_string}",
      "query-input": "required name=search_term_string"
    }
  }
  </script>

  <style>
    .video-loaded iframe {
      width: 100%;
      aspect-ratio: 16/9;
      border-radius: 0.375rem;
      box-shadow: 0 0 8px rgba(0, 0, 0, 0.3);
    }
    .video-thumbnail {
      box-shadow: 0 0 8px rgba(0, 0, 0, 0.3);
    }
    .skeleton-loading {
      background: linear-gradient(90deg, #374151 25%, #4b5563 50%, #374151 75%);
      background-size: 200% 100%;
      animation: loading 1.5s infinite;
    }
    @keyframes loading {
      0% { background-position: 200% 0; }
      100% { background-position: -200% 0; }
    }
    .arrow-pointer {
      width: 0;
      height: 0;
      border-left: 6px solid white;
      border-top: 4px solid transparent;
      border-bottom: 4px solid transparent;
      display: inline-block;
      margin-right: 6px;
    }
    .platform-block {
      flex-wrap: wrap;
      gap: 0.25rem;
    }
    .platform-span {
      padding: 0.125rem 0.5rem;
      border-radius: 0.25rem;
      font-size: 0.75rem;
      line-height: 1.2;
    }
    .full-star {
      fill: #facc15;
    }
    .half-star {
      fill: url(#halfGrad);
    }
  </style>
</head>
<body class="bg-gray-900 text-white font-sans p-4">
  <div class="max-w-6xl mx-auto">
    <div class="flex justify-between items-center mb-1 gap-2">
      <h1 class="text-3xl font-bold">Cheeki's Mods Archive</h1>
      <div class="flex gap-2">
        <button id="toggle-grades" aria-label="Toggle grades visibility" class="bg-gray-700 hover:bg-gray-600 text-white text-xs font-medium py-1 px-2 rounded">
          Hide Grades
        </button>
      </div>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mt-4" id="mods-container"></div>

    <!-- Modal for video playback -->
    <div id="video-modal" class="fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center hidden z-50">
      <div class="relative w-full max-w-4xl">
        <button id="close-modal" class="absolute -top-8 right-0 text-white text-2xl">×</button>
        <div class="video-loaded">
          <iframe src="" frameborder="0" allowfullscreen></iframe>
        </div>
      </div>
    </div>

    <!-- Video thumbnail overlay -->
    <div id="video-overlay" class="fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center hidden z-40">
      <button id="close-overlay" class="absolute -top-8 right-0 text-white text-2xl">×</button>
      <img src="" alt="Video thumbnail" class="max-w-full max-h-full object-contain">
    </div>

    <!-- Skeleton loading -->
    <div id="skeleton-loader" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mt-4">
      <div class="bg-gray-800 rounded-lg p-4 skeleton-loading h-64"></div>
      <div class="bg-gray-800 rounded-lg p-4 skeleton-loading h-64"></div>
      <div class="bg-gray-800 rounded-lg p-4 skeleton-loading h-64"></div>
    </div>
  </div>

  <script>
    // Star rendering function
    function renderStars(rating) {
      const fullStar = '<svg class="w-4 h-4 full-star" viewBox="0 0 20 20"><path d="M10 15l-5.878 3.09 1.122-6.545L.487 6.91l6.561-.955L10 0l2.952 5.955 6.561.955-4.757 4.635 1.122 6.545z"/></svg>';
      const halfStar = '<svg class="w-4 h-4" viewBox="0 0 20 20"><defs><linearGradient id="halfGrad" x1="0" x2="100%" y1="0" y2="0"><stop offset="50%" stop-color="#facc15"/><stop offset="50%" stop-color="#4b5563"/></linearGradient></defs><path fill="url(#halfGrad)" d="M10 15l-5.878 3.09 1.122-6.545L.487 6.91l6.561-.955L10 0l2.952 5.955 6.561.955-4.757 4.635 1.122 6.545z"/></svg>';
      
      const roundedRating = Math.round(rating * 2) / 2;
      
      let starsHTML = '';
      for (let i = 1; i <= 5; i++) {
        if (roundedRating >= i) {
          starsHTML += fullStar;
        } else if (roundedRating + 0.5 >= i) {
          starsHTML += halfStar;
        } else {
          starsHTML += '<svg class="w-4 h-4" viewBox="0 0 20 20"><path fill="#4b5563" d="M10 15l-5.878 3.09 1.122-6.545L.487 6.91l6.561-.955L10 0l2.952 5.955 6.561.955-4.757 4.635 1.122 6.545z"/></svg>';
        }
      }
      return starsHTML;
    }

    // Video creation function with lazy loading
    function createLazyVideo(videoUrl) {
      if (!videoUrl) return null;
      
      const videoContainer = document.createElement('div');
      videoContainer.className = 'relative w-full h-0 pb-[56.25%] rounded-lg overflow-hidden';
      
      const videoElement = document.createElement('div');
      videoElement.className = 'video-loaded absolute inset-0 flex items-center justify-center';
      videoElement.innerHTML = `
        <iframe 
          class="w-full h-full" 
          src="${videoUrl}" 
          frameborder="0" 
          allowfullscreen
          loading="lazy"
        ></iframe>
      `;
      
      const thumbnail = document.createElement('div');
      thumbnail.className = 'video-thumbnail absolute inset-0 flex items-center justify-center';
      thumbnail.innerHTML = `
        <img src="${videoUrl.replace('watch?v=', 'vi/').replace('youtu.be/', 'vi/')}/maxresdefault.jpg" 
             alt="Video thumbnail" 
             class="w-full h-full object-cover"
             loading="lazy"
        />
      `;
      
      const playButton = document.createElement('div');
      playButton.className = 'absolute inset-0 flex items-center justify-center cursor-pointer';
      playButton.innerHTML = `
        <div class="bg-black bg-opacity-50 rounded-full p-4">
          <svg class="w-12 h-12 text-white" viewBox="0 0 24 24">
            <path fill="currentColor" d="M8 5v14l11-7z"/>
          </svg>
        </div>
      `;
      
      videoContainer.appendChild(thumbnail);
      videoContainer.appendChild(playButton);
      videoContainer.appendChild(videoElement);
      
      playButton.addEventListener('click', () => {
        thumbnail.classList.add('hidden');
        playButton.classList.add('hidden');
        videoElement.classList.remove('hidden');
      });
      
      return videoContainer;
    }

    // Sample data for demonstration
    const sampleMods = [
      {
        title: "Mod Title 1",
        description: "This is a sample mod description.",
        rating: 4.5,
        downloadLink: "#",
        installGuide: "#"
      },
      {
        title: "Mod Title 2",
        description: "Another sample mod description.",
        rating: 3.8,
        downloadLink: "#",
        installGuide: "#"
      }
    ];

    // Render mods function
    function renderMods(mods) {
      const container = document.getElementById('mods-container');
      const loader = document.getElementById('skeleton-loader');
      
      loader.classList.add('hidden');
      container.innerHTML = '';
      
      mods.forEach(mod => {
        const modElement = document.createElement('div');
        modElement.className = 'bg-gray-800 rounded-lg p-4 shadow-lg hover:shadow-xl transition-shadow duration-300';
        modElement.innerHTML = `
          <h2 class="text-xl font-bold mb-2">${mod.title}</h2>
          <p class="mb-3 text-gray-300">${mod.description}</p>
          <div class="flex items-center mb-3">
            ${renderStars(mod.rating)}
            <span class="ml-2 text-sm">(${mod.rating})</span>
          </div>
          <div class="flex gap-2 mt-4">
            <a href="${mod.downloadLink}" class="bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded text-sm font-medium transition-colors duration-200">Download</a>
            <a href="${mod.installGuide}" class="bg-gray-700 hover:bg-gray-600 text-white py-2 px-4 rounded text-sm font-medium transition-colors duration-200">Install Guide</a>
          </div>
        `;
        container.appendChild(modElement);
      });
    }

    // Initialize the page
    document.addEventListener('DOMContentLoaded', () => {
      renderMods(sampleMods);
      
      // Toggle grades button functionality
      const toggleGradesButton = document.getElementById('toggle-grades');
      if (toggleGradesButton) {
        toggleGradesButton.addEventListener('click', function() {
          const isHidden = this.textContent.includes('Hide');
          this.textContent = isHidden ? 'Show Grades' : 'Hide Grades';
          document.querySelectorAll('.rating').forEach(el => {
            el.classList.toggle('hidden', !isHidden);
          });
        });
      }
    });
  </script>
</body>
</html>
